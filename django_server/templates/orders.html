<!DOCTYPE html>
<html lang="en">
{% load static %}

<head>

    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <title>Restaurantly Bootstrap Template - Index</title>
    <meta content="" name="description">
    <meta content="" name="keywords">

    <!-- Favicons -->


    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
        rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="{% static 'assets/img/favicon.png' %}" rel="icon">
    <link href="{% static 'assets/img/apple-touch-icon.png' %}" rel="apple-touch-icon">
    <link href="{% static 'assets/vendor/animate.css/animate.min.css' %}" rel="stylesheet">
    <link href="{% static 'assets/vendor/aos/aos.css' %}" rel="stylesheet">
    <link href="{% static 'assets/vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'assets/vendor/bootstrap-icons/bootstrap-icons.css' %}" rel="stylesheet">
    <link href="{% static 'assets/vendor/boxicons/css/boxicons.min.css' %}" rel="stylesheet">
    <link href="{% static 'assets/vendor/glightbox/css/glightbox.min.css' %}" rel="stylesheet">
    <link href="{% static 'assets/vendor/swiper/swiper-bundle.min.css' %}" rel="stylesheet">
    <link href="{% static 'assets/css/style.css' %}" rel="stylesheet">

    <!-- =======================================================
  * Template Name: Restaurantly - v3.7.0
  * Template URL: https://bootstrapmade.com/restaurantly-restaurant-template/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body>

    <!-- ======= Top Bar ======= -->
    <div id="topbar" class="d-flex align-items-center fixed-top">
        <div class="container d-flex justify-content-center justify-content-md-between">




        </div>
    </div>

    <!-- ======= Header ======= -->
    <header id="header" class="fixed-top d-flex align-items-cente">
        <div class="container-fluid container-xl d-flex align-items-center justify-content-lg-between">

            <h1 class="logo me-auto me-lg-0"><a href="adminshop.html">FASTFOOD</a></h1>
            <!-- Uncomment below if you prefer to use an image logo -->
            <!-- <a href="index.html" class="logo me-auto me-lg-0"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->

            <nav id="navbar" class="navbar order-last order-lg-0">
                <ul>
                    <pre>                                                                               </pre>
                    <li><a class="nav-link scrollto" href="http://127.0.0.1:8000/adminshop.html">Home</a></li>

                    <li>
                    <li><a href="manageorder"><span>Manage Orders</span> <i></i></a></li>
                    <pre> </pre>
                    </li>
                    <li>
                        <ul>
                            <li class="dropdown"><a href="#"><span>My Account</span> <i
                                        class="bi bi-chevron-right"></i></a>
                                <ul>
                                    <li><a href="shop_profile">My profile</a></li>
                                    <li><a href="logout"><button class="book-a-table-btn scrollto d-none d-lg-flex"
                                                style="background-color: rgb(13, 13, 21);">LOGOUT</button></a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
                <i class="bi bi-list mobile-nav-toggle"></i>
            </nav>
            <!-- .navbar -->
            <ul>

            </ul>

        </div>
    </header>
    <!-- End Header -->
    <br>
    <br>
    <br>
    <br>
    <main id="main">
    </main>
</body>
<br>
<br>
<br>
<br>

<!-- cart-->
<div style="background-color: rgb(120, 123, 123);">
    <div>
        <h1>{{ order.user.user_name }}</h1>
        <h1>{{ order.delivery_date_time }}</h1>
    </div>
    <table id="cart" class="table table-hover table-condensed">
        <thead>
            <tr>
                <th style="width:50%">Product</th>
                <th style="width:30%">Quantity</th>
            </tr>
        </thead>
        {% for item in foodItems %}
        <tbody>
            <tr>
                <th>{{ item.food_item.name }}</th>
                <th>{{ item.item_count }}</th>
            </tr>
        </tbody>
        {% endfor %}
        <tfoot>
            <tr>
                <td><a href="manageorder" class="btn btn-warning"><i class="fa fa-angle-left"></i> Back to Main Menu</a>
                </td>
                <td colspan="2" class="hidden-xs"></td>
                {% if shopAdmin == True %}
                <td data-th="status" >
                    <select name="status" id="status" onchange="updateStatus()">
                        <option value="0">New</option>
                        <option value="1">Processing</option>
                        <option value="2">Ready to Serve</option>
                        <option value="3">Complete</option>
                        <option value="4">Cancelled</option>
                      </select>
                </td>
                <td><a href="/update_order_status/{{ order.order_id }}/0" id="updateStatusLink" class="btn btn-warning"><i class="fa fa-angle-left"></i>Update Status</a>
                </td>
                {% endif %}
            </tr>
        </tfoot>
    </table>

</div>
<meta name="order_id" content="{{ order.order_id }}">

<script>
    function updateStatus(){
        order_id = getMeta("order_id")
        status = document.getElementById("status").value
        document.getElementById("updateStatusLink").href = "/update_order_status/" + order_id +"/"+ status
    }

    function getMeta(metaName) {
        const metas = document.getElementsByTagName('meta');

        for (let i = 0; i < metas.length; i++) {
            if (metas[i].getAttribute('name') === metaName) {
                return metas[i].getAttribute('content');
            }
        }

        return '';
    }
</script>


</html>